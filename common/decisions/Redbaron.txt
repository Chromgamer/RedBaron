MOD_countdown_to_victory_cat = {
	MOD_countdown_to_allied_victory_mission = {

		icon = generic_operation

		available = {
			hidden_trigger = {
				always = no
			}
		}
		days_mission_timeout = 365

		activation = {
			check_variable = {
				global.allies_score > 6
			}
		}

		cancel_trigger = {
			check_variable = {
				global.allies_score < 7
			}
		}

		timeout_effect = {
			GER = { news_event = { id = redbaron.2 } }
		}
		is_good = no
		complete_effect = {

		}
	}
	MOD_countdown_to_axis_victory_mission = {

		icon = generic_operation

		available = {
			hidden_trigger = {
				always = no
			}
		}
		days_mission_timeout = 365

		activation = {
			check_variable = {
				global.axis_score > 6
			}
		}

		cancel_trigger = {
			check_variable = {
				global.axis_score < 7
			}
		}

		timeout_effect = {
			GER = { news_event = { id = redbaron.1 } }
		}
		is_good = no
		complete_effect = {

		}
	}
}
operations = {
    annex_South_Africa = {
            # icon = generic_operation
            allowed = {
                tag = RAJ
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                SAF = {
                    is_ai = yes
                }
                ENG = {
                    has_completed_focus = uk_south_africa_focus
                }
            }
            targets = {
                SAF
            }
            complete_effect = {
                SAF = {
                    transfer_units_fraction = {
                        target = RAJ
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                RAJ = {
                    annex_country = {
                        target = SAF
                        transfer_troops = yes
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = SAF
                        is_controlled_by = RAJ
                    }
                    add_core_of = RAJ
                }
            }

        }
		annex_Mexiko = {
            # icon = generic_operation
            allowed = {
                tag = BRA
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                MEX = {
                    is_ai = yes
                    has_completed_focus = MEX_focus_soldaderas
                }
            }
            targets = {
                MEX
            }
            complete_effect = {
                MEX = {
                    transfer_units_fraction = {
                        target = BRA
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                BRA = {
                    annex_country = {
                        target = MEX
                        transfer_troops = yes
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = MEX
                        is_controlled_by = BRA
                    }
                    add_core_of = BRA
                }
            }

        }
	 annex_Irak = {
            # icon = generic_operation
            allowed = {
                tag = ENG
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                AND = { IRQ = {
                         is_ai = yes
                         }
                        GER = { has_war_with = POL }
                }
                    }
            targets = {
                IRQ
            }
            complete_effect = {
                IRQ = {
                    transfer_units_fraction = {
                        target = ENG
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                ENG = {
                    annex_country = {
                        target = IRQ
                        transfer_troops = yes
                    }
                }
            }

        }
    annex_Irland = {
            # icon = generic_operation
            allowed = {
                tag = FRA
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                AND = { IRE = {
                         is_ai = yes
                         }
                         FRA = {has_capitulated = yes}
                }
                    }
            targets = {
                IRE
            }
            complete_effect = {
                IRE = {
                    transfer_units_fraction = {
                        target = FRA
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                FRA = {
                    annex_country = {
                        target = IRE
                        transfer_troops = yes
                    }
                }
            }

        }
}
Technologies = {
    add_convoy = {
		priority = 100
        icon = SWE_set_navy_budget
        allowed = {
 		}
		visible = {
			is_ai = no
		}
        days_remove = 10
        cost = 0
        complete_effect = {
            add_manpower = 1
            add_equipment_to_stockpile = {
                type = convoy_1
                amount = 1
            }
        }
		
 		remove_effect = {
            add_manpower = -1
            add_equipment_to_stockpile = {
                type = convoy_1
                amount = -1
            }
 		}
        ai_will_do = {
            factor = 0
        }
    }


auto_mech = {
    # icon = generic_operation
    allowed = {
    }
    fire_only_once = no
    cost = 0
    ai_will_do = {
        factor = 0
    }
    visible = {
        NOT = {
                tag = HOL
            }
    }
    available = {
            date > 1937.08.01
        }
    complete_effect = {
        SWE = {
            create_production_license = {
                target = ROOT
                equipment = {
                    type = mechanized_equipment_1
                    version = 1
                    new_prioritised = yes
                }
                cost_factor = 0
            }
        }
    }
    }
    
    hosttool_aa2 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            
            available = {
                AND = {
                    date > 1938.08.01
                    
                }
            }
            complete_effect = {
                SWE = {
                    create_production_license = {
                        target = ROOT
                        equipment = {
                            type = anti_air_equipment_2
                            version = 0
                            new_prioritised = yes
                        }
                        cost_factor = 0
                    }
                }
            }
    }
    hosttool_aa3 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            
            available = {
                AND = {
                    date > 1940.08.01
                    
                }
            }
            complete_effect = {
                SWE = {
                    create_production_license = {
                        target = ROOT
                        equipment = {
                            type = anti_air_equipment_3
                            version = 0
                            new_prioritised = yes
                        }
                        cost_factor = 0
                    }
                }
            }
    }
    
    hosttool_gun2 = {
        # icon = generic_operation
        allowed = {
        }
        fire_only_once = no
        cost = 0
        ai_will_do = {
            factor = 0
        }
        
        available = {
            AND = {
                date > 1938.02.1
                
            }
        }
        complete_effect = {
            SWE = {
                create_production_license = {
                    target = ROOT
                    equipment = {
                        type = infantry_equipment_2
                        version = 0
                        new_prioritised = yes
                    }
                    cost_factor = 0
                }
            }
        }
}

            
                       auto_gun3_allies = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                    NOT = {
                            tag = HOL
                            original_tag = GER
                        original_tag = ITA
                        original_tag = HUN
                        original_tag = ROM
                        original_tag = BUL
                        original_tag = JAP
                        original_tag = MAN
                        original_tag = SIA
                        original_tag = SPR
                        original_tag = FIN
                        }
                    
                }
                available = {
                        date > 1940.5.1
                    }
                complete_effect = {
                    SWE = {
                        create_production_license = {
                            target = ROOT
                            equipment = {
                                type = infantry_equipment_3
                                version = 0
                                new_prioritised = yes
                            }
                            cost_factor = 0
                        }
                    }
                }
                }
                auto_gun3_axis = {
                    # icon = generic_operation
                    allowed = {
                    }
                    fire_only_once = no
                    cost = 0
                    ai_will_do = {
                        factor = 0
                    }
                    visible = {
                        NOT = {
                                tag = HOL
                            }
                         OR = {
                            original_tag = GER
                            original_tag = ITA
                            original_tag = HUN
                            original_tag = ROM
                            original_tag = BUL
                            original_tag = JAP
                            original_tag = MAN
                            original_tag = SIA
                            original_tag = SPR
                            original_tag = FIN
                         }
                    }
                    available = {
                            date > 1939.12.01
                        }
                    complete_effect = {
                        SWE = {
                            create_production_license = {
                                target = ROOT
                                equipment = {
                                    type = infantry_equipment_3
                                    version = 0
                                    new_prioritised = yes
                                }
                                cost_factor = 0
                            }
                        }
                    }
                    }
                auto_AT2 = {
                    # icon = generic_operation
                    allowed = {
                    }
                    fire_only_once = no
                    cost = 0
                    ai_will_do = {
                        factor = 0
                    }
                    
                    available = {
                            date > 1938.08.1
                        }
                    complete_effect = {
                        SWE = {
                            create_production_license = {
                                target = ROOT
                                equipment = {
                                    type = anti_tank_equipment_2
                                    version = 0
                                    new_prioritised = yes
                                }
                                cost_factor = 0
                            }
                        }
                    }
                    }
                auto_AT3 = {
                    # icon = generic_operation
                    allowed = {
                    }
                    fire_only_once = no
                    cost = 0
                    ai_will_do = {
                        factor = 0
                    }
                    
                    available = {
                            date > 1940.08.01
                        }
                    complete_effect = {
                        SWE = {
                            create_production_license = {
                                target = ROOT
                                equipment = {
                                    type = anti_tank_equipment_3
                                    version = 0
                                    new_prioritised = yes
                                }
                                cost_factor = 0
                            }
                        }
                    }
                    }
    ENG_Fighter = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
			visible = {
					tag  = ENG
			}
			
            available = {
                        tag = ENG
                        has_tech = improved_small_airframe
						has_tech = engines_3
						has_tech = aa_cannon_1
                        has_tech = range_improvements
            }
            complete_effect = {
                    If = {
                        limit = {
                            ROOT = {
                                And = {
                                    has_tech = engines_4
                                    has_tech = survivability_studies
                                }
                            }
                        }
                        create_equipment_variant = {
                            name = "F2 E4"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
                                    engine_type_slot = engine_4_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                    special_type_slot_3 = self_sealing_fuel_tanks_small
                            }
                        }
                    }
                    else_if = {
                        limit = {
                            ROOT = {
                                    has_tech = survivability_studies
                            }
                        }
                        create_equipment_variant = {
                            name = "F2 E3"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
								fixed_main_weapon_slot = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_2 = empty
								engine_type_slot = engine_3_1x
								special_type_slot_1 = fuel_tanks_small
								special_type_slot_2 = fuel_tanks_small
								special_type_slot_3 = self_sealing_fuel_tanks_small
							}
					    }
                    }
                    else = {
                        ROOT = {
                            create_equipment_variant = {
                                name = "F2 E3 No Selfsealing"
                                type = small_plane_airframe_2
                                parent_version = 0
                                modules = {
                                        fixed_main_weapon_slot = aircraft_cannon_1_2x
                                        fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                        fixed_auxiliary_weapon_slot_2 = empty
                                        engine_type_slot = engine_3_1x
                                        special_type_slot_1 = fuel_tanks_small
                                        special_type_slot_2 = fuel_tanks_small
                                }
                            }
                        }
                    }
        }
    }
    ENG_CAS_1 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
			visible = {
					tag  = ENG
			}
			
            available = {
                        tag = ENG
            }
            complete_effect = {
                If = {
                        limit = {
                            ROOT = {
                                    has_tech = range_improvements
                            }
                        }
                        create_equipment_variant = {
                            name = "C1 E2 Final"
                            type = small_plane_cas_airframe_1
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = bomb_locks
                                    engine_type_slot = engine_2_1x
                                    special_type_slot_1 = fuel_tanks_small
                            }
                        }
                    }
                    else = {
                        ROOT = {
                            create_equipment_variant = {
                                name = "C1 E2 Base"
                                type = small_plane_cas_airframe_1
                                parent_version = 0
                                modules = {
                                        fixed_main_weapon_slot = bomb_locks
                                        fixed_auxiliary_weapon_slot_1 = bomb_locks
                                        engine_type_slot = engine_2_1x
                                }
                            }
                        }
                    }
            }
    }
    GER_cas = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = GER
                }

                available = {
                            tag = GER
                            has_tech = improved_small_airframe
                            has_tech = engines_3
                            has_tech = heavy_bombs
                            has_tech = range_improvements
                }
                complete_effect = {
                    ROOT = {
                        create_equipment_variant = {
                            name = "C2 E3 Barb"
                            type = small_plane_cas_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = heavy_bomb_locks
                                    fixed_auxiliary_weapon_slot_2 = heavy_bomb_locks
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = non_strategic_materials
                                    special_type_slot_3 = empty
                                }
                        }
                    }
                }
        }


    GER_cas_1 = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = GER
                }

                available = {
                            tag = GER
                            has_tech = improved_small_airframe
                            has_tech = engines_3
                            has_tech = range_improvements
                }
                complete_effect = {
                    ROOT = {
                        create_equipment_variant = {
                            name = "Cas to be converted into Fighter, dont fly"
                            type = small_plane_cas_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_2 = empty
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                    special_type_slot_3 = empty
                                }
                        }
                    }
                }
        }
    JAP_CV_Fighter = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
                    tag  = JAP
            }

            available = {
                        tag = JAP
                        has_completed_focus = JAP_the_zero
			            has_tech = survivability_studies
            }
            complete_effect = {
                ROOT = {
                    create_equipment_variant = {
                        name = "CV F2 E3"
                        type = cv_small_plane_airframe_2
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = light_mg_4x
                                fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                fixed_auxiliary_weapon_slot_2 = light_mg_4x
                                engine_type_slot = engine_3_1x
                                special_type_slot_1 = fuel_tanks_small
                                special_type_slot_2 = fuel_tanks_small
				                special_type_slot_3 = self_sealing_fuel_tanks_small
                            }
                    }
                    create_equipment_variant = {
                            name = "CV F2 E3 Base"
                            type = cv_small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = light_mg_4x
                                    fixed_auxiliary_weapon_slot_1 = empty
                                    fixed_auxiliary_weapon_slot_2 = empty
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = empty
                                }
                    }
                }
            }
    }


    JAP_naval_bomber = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = JAP
                }

                available = {
                            tag = JAP
                            has_tech = heavy_bombs
                            has_tech = improved_air_launched_torpedos
                            has_completed_focus = JAP_the_zero
                }
                complete_effect = {
                    ROOT = {
                        create_equipment_variant = {
                            name = "CAS NAV"
                            type = small_plane_naval_bomber_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = medium_torpedo_mountings
                                    fixed_auxiliary_weapon_slot_1 = heavy_bomb_locks
                                    fixed_auxiliary_weapon_slot_2 = heavy_bomb_locks
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                    special_type_slot_3 = self_sealing_fuel_tanks_small
                                }
                        }
                    }
                }
        }
 

    USA_heavy_fighter = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
                    tag  = USA
            }

            available = {
                        tag = USA
		                has_tech = improved_medium_airframe
            }
            complete_effect = {
                    If = {
                            limit = {
                                ROOT = {
                                    And = {
                                        has_tech = survivability_studies
                                        has_tech = engines_3
                                        has_tech = aa_cannon_1
                                    }
                                }
                            }
                                create_equipment_variant = {
                                    name = "HF2 E3"
                                    type = medium_plane_fighter_airframe_2
                                    parent_version = 0
                                    modules = {
                                            fixed_main_weapon_slot = aircraft_cannon_1_2x
                                            fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                            fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
                                            fixed_auxiliary_weapon_slot_3 = aircraft_cannon_1_2x
                                            engine_type_slot = engine_3_2x
                                            special_type_slot_1 = self_sealing_fuel_tanks_medium
                                            special_type_slot_2 = empty
                                            special_type_slot_3 = empty
                                            special_type_slot_4 = empty
                                        special_type_slot_5 = empty
                                    }
                                }
                    }
                    else_if = {
                        limit = {
                            ROOT = {
                                And = {
                                    has_tech = engines_3
                                    has_tech = aa_cannon_1
                                }
                                    
                            }
                        }
                        create_equipment_variant = {
                        name = "HF2 E3 Base"
                        type = medium_plane_fighter_airframe_2
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = aircraft_cannon_1_2x
                                fixed_auxiliary_weapon_slot_1 = empty
                                fixed_auxiliary_weapon_slot_2 = empty
                                fixed_auxiliary_weapon_slot_3 = empty
                                engine_type_slot = engine_3_2x
                                special_type_slot_1 = empty
                                special_type_slot_2 = empty
                                special_type_slot_3 = empty
                                special_type_slot_4 = empty
                                special_type_slot_5 = empty
                            }
                        }
                    }
                    else = {
                        create_equipment_variant = {
                        name = "HF2 E2 Base"
                        type = medium_plane_fighter_airframe_2
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = light_mg_2x
                                fixed_auxiliary_weapon_slot_1 = empty
                                fixed_auxiliary_weapon_slot_2 = empty
                                fixed_auxiliary_weapon_slot_3 = empty
                                engine_type_slot = engine_2_2x
                                special_type_slot_1 = empty
                                special_type_slot_2 = empty
                                special_type_slot_3 = empty
                                special_type_slot_4 = empty
                                special_type_slot_5 = empty
                            }
                    }
                    }
            }
    }

    USA_heavy_fighter_1 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
                    tag  = USA
            }

            available = {
                        tag = USA
		                has_tech = advanced_medium_airframe
                        has_tech = engines_3
                        has_tech = survivability_studies
                        has_tech = aa_cannon_1
            }
            complete_effect = {
                ROOT = {
                    create_equipment_variant = {
                        name = "HF3 E3 Base"
                        type = medium_plane_fighter_airframe_3
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = light_mg_2x
                                fixed_auxiliary_weapon_slot_1 = empty
                                fixed_auxiliary_weapon_slot_2 = empty
                                fixed_auxiliary_weapon_slot_3 = empty
                                fixed_auxiliary_weapon_slot_4 = empty
                                engine_type_slot = engine_3_2x
                                special_type_slot_1 = empty
                                special_type_slot_2 = empty
                                special_type_slot_3 = empty
                                special_type_slot_4 = empty
                                special_type_slot_5 = empty
                            }
                    }
                    create_equipment_variant = {
                        name = "HF3 E3"
                        type = medium_plane_fighter_airframe_3
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = light_mg_2x
                                fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
                                fixed_auxiliary_weapon_slot_3 = aircraft_cannon_1_2x
                                fixed_auxiliary_weapon_slot_4 = light_mg_4x
                                engine_type_slot = engine_3_2x
                                special_type_slot_1 = self_sealing_fuel_tanks_medium
                                special_type_slot_2 = empty
                                special_type_slot_3 = empty
                                special_type_slot_4 = empty
                                special_type_slot_5 = empty
                            }
                    }
                }
            }
    }


    USA_strategic_bomber = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
                    tag  = USA
            }

            available = {
                        tag = USA
		                has_tech = basic_large_airframe
            }
            complete_effect = {
                If = {
                            limit = {
                                ROOT = {
                                    And = {
                                        has_tech = survivability_studies
                                        has_tech = engines_3
                                    }
                                }
                            }
                                create_equipment_variant = {
                                name = "SB1 E3"
                                type = large_plane_airframe_1
                                parent_version = 0
                                modules = {
                                    fixed_main_weapon_slot = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_1 = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_2 = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_3 = empty
                                    engine_type_slot = engine_3_4x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = self_sealing_fuel_tanks_large
                                    special_type_slot_4 = lmg_defense_turret_2x
                                    special_type_slot_5 = lmg_defense_turret_2x
                                    }
                                }
                                create_equipment_variant = {
                                name = "SB1 E3 Base"
                                type = large_plane_airframe_1
                                parent_version = 0
                                modules = {
                                    fixed_main_weapon_slot = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_1 = empty
                                    fixed_auxiliary_weapon_slot_2 = empty
                                    fixed_auxiliary_weapon_slot_3 = empty
                                    engine_type_slot = engine_3_4x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = empty
                                    special_type_slot_4 = empty
                                    special_type_slot_5 = empty
                                }
                            }
                    }
                    else_if = {
                        limit = {
                            ROOT = {
                                And = {
                                    has_tech = engines_3
                                }
                                    
                            }
                        }
                        create_equipment_variant = {
                                name = "SB1 E3 no Selfsealing"
                                type = large_plane_airframe_1
                                parent_version = 0
                                modules = {
                                    fixed_main_weapon_slot = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_1 = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_2 = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_3 = empty
                                    engine_type_slot = engine_3_4x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = empty
                                    special_type_slot_4 = lmg_defense_turret_2x
                                    special_type_slot_5 = lmg_defense_turret_2x
                                    }
                                }
                                create_equipment_variant = {
                                name = "SB1 E3 Base"
                                type = large_plane_airframe_1
                                parent_version = 0
                                modules = {
                                    fixed_main_weapon_slot = large_bomb_bay
                                    fixed_auxiliary_weapon_slot_1 = empty
                                    fixed_auxiliary_weapon_slot_2 = empty
                                    fixed_auxiliary_weapon_slot_3 = empty
                                    engine_type_slot = engine_3_4x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = empty
                                    special_type_slot_4 = empty
                                    special_type_slot_5 = empty
                                }
                            }
                    }
                    else = {
                        create_equipment_variant = {
                        name = "SB1 E2"
                        type = large_plane_airframe_1
                        parent_version = 0
                        modules = {
                                fixed_main_weapon_slot = large_bomb_bay
                                fixed_auxiliary_weapon_slot_1 = large_bomb_bay
                                fixed_auxiliary_weapon_slot_2 = large_bomb_bay
                                fixed_auxiliary_weapon_slot_3 = empty
                                engine_type_slot = engine_2_6x
                                special_type_slot_1 = bomb_sights_1
                                special_type_slot_2 = lmg_defense_turret_2x
                                special_type_slot_3 = lmg_defense_turret_2x
                                special_type_slot_4 = lmg_defense_turret_2x
                                special_type_slot_5 = lmg_defense_turret_1x
                            }
                        }
                    }
            }
    }

   ITA_Fighter = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
                    tag  = ITA
            }

            available = {
                        tag = ITA
                        has_tech = improved_small_airframe
                        has_tech = engines_3
                        has_tech = range_improvements
            }
            complete_effect = {
                If = {
                        limit = {
                            ROOT = {
                                And = {
                                    has_tech = engines_4
                                    has_tech = survivability_studies
                                }
                            }
                        }
                        create_equipment_variant = {
                            name = "F2 E4 Selfsealing"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
                                    engine_type_slot = engine_4_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                    special_type_slot_3 = self_sealing_fuel_tanks_small
                                }
                        }

                    }
                    else_if = {
                        limit = {
                            ROOT = {
                                    has_tech = survivability_studies
                            }
                        }
                        create_equipment_variant = {
                            name = "F2 E3"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
								fixed_main_weapon_slot = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_2 = empty
								engine_type_slot = engine_3_1x
								special_type_slot_1 = fuel_tanks_small
								special_type_slot_2 = fuel_tanks_small
								special_type_slot_3 = self_sealing_fuel_tanks_small
							}
					    }

                    }
                    else = {
                        ROOT = {
                            create_equipment_variant = {
                                name = "F2 E3 No Selfsealing"
                                type = small_plane_airframe_2
                                parent_version = 0
                                modules = {
                                        fixed_main_weapon_slot = aircraft_cannon_1_2x
                                        fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                        fixed_auxiliary_weapon_slot_2 = empty
                                        engine_type_slot = engine_3_1x
                                        special_type_slot_1 = fuel_tanks_small
                                        special_type_slot_2 = fuel_tanks_small
                                }
                            }

                        }
                        
                    }
            }
    }


    ITA_CV_Fighter = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = ITA
                }

                available = {
                            tag = ITA
                            has_tech = improved_small_airframe
                            has_tech = engines_3
                            has_tech = range_improvements
                }
                complete_effect = {
                    ROOT = {
                        create_equipment_variant = {
                            name = "CV F2 E3 Base"
                            type = cv_small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = light_mg_4x
                                    fixed_auxiliary_weapon_slot_1 = empty
                                    fixed_auxiliary_weapon_slot_2 = empty
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = empty
                                    special_type_slot_2 = empty
                                    special_type_slot_3 = empty
                                }
                        }
                    }
                    If = {
                        limit = {
                            ROOT = {
                                    has_tech = survivability_studies
                            }
                        }
                        create_equipment_variant = {
                            name = "CV F2 E3"
                            type = cv_small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = light_mg_4x
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_2 = light_mg_4x
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                    special_type_slot_3 = self_sealing_fuel_tanks_small
                                }
                        }
                    }
                    else = {
                        ROOT = {
                            create_equipment_variant = {
                                name = "CV F2 E3 No Selfsealing"
                                type = cv_small_plane_airframe_2
                                parent_version = 0
                                modules = {
                                        fixed_main_weapon_slot = light_mg_4x
                                        fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                        fixed_auxiliary_weapon_slot_2 = light_mg_4x
                                        engine_type_slot = engine_3_1x
                                        special_type_slot_1 = fuel_tanks_small
                                        special_type_slot_2 = fuel_tanks_small
                                }
                            }
                        }
                    }
                }
        }
    ITA_cas = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = ITA
                }

                available = {
                            tag = ITA
                            has_tech = improved_small_airframe
                            has_tech = engines_3
                            has_tech = heavy_bombs
                            has_tech = range_improvements
                }
                complete_effect = {
                    ROOT = {
                        create_equipment_variant = {
                            name = "C2 E3 Barb"
                            type = small_plane_cas_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = heavy_bomb_locks
                                    fixed_auxiliary_weapon_slot_2 = heavy_bomb_locks
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = non_strategic_materials
                                    special_type_slot_3 = empty
                                }
                        }
                    }
                }
        }


    ITA_cas_1 = {
                # icon = generic_operation
                allowed = {
                }
                fire_only_once = no
                cost = 0
                ai_will_do = {
                    factor = 0
                }
                visible = {
                        tag  = ITA
                }

                available = {
                            tag = ITA
                            has_tech = improved_small_airframe
                            has_tech = engines_3
                            has_tech = range_improvements
                }
                complete_effect = {
                    If = {
                        limit = {
                            ROOT = {
                                    has_tech = engines_4
                            }
                        }
                        create_equipment_variant = {
                            name = "F2 E4 Ger/HUN"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
                                    engine_type_slot = engine_4_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                }
                        }
                    }
                    else = {
                        ROOT = {
                            create_equipment_variant = {
                            name = "F2 E3 Ger/HUN"
                            type = small_plane_airframe_2
                            parent_version = 0
                            modules = {
                                    fixed_main_weapon_slot = bomb_locks
                                    fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
                                    engine_type_slot = engine_3_1x
                                    special_type_slot_1 = fuel_tanks_small
                                    special_type_slot_2 = fuel_tanks_small
                                }
                        }
                        }
                    }
                }
        }
}