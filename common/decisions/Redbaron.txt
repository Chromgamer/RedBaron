operations = {
    annex_South_Africa = {
            # icon = generic_operation
            allowed = {
                tag = RAJ
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                SAF = {
                    is_ai = yes
                }
                ENG = {
                    has_completed_focus = uk_south_africa_focus
                }
            }
            targets = {
                SAF
            }
            complete_effect = {
                SAF = {
                    transfer_units_fraction = {
                        target = RAJ
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                RAJ = {
                    annex_country = {
                        target = SAF
                        transfer_troops = yes
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = SAF
                        is_controlled_by = RAJ
                    }
                    add_core_of = RAJ
                }
            }

        }
		annex_Mexiko = {
            # icon = generic_operation
            allowed = {
                tag = BRA
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                MEX = {
                    is_ai = yes
                    has_completed_focus = MEX_focus_soldaderas
                }
            }
            targets = {
                MEX
            }
            complete_effect = {
                MEX = {
                    transfer_units_fraction = {
                        target = BRA
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                BRA = {
                    annex_country = {
                        target = MEX
                        transfer_troops = yes
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = MEX
                        is_controlled_by = BRA
                    }
                    add_core_of = BRA
                }
            }

        }
		annex_Argentina = {
            # icon = generic_operation
            allowed = {
                tag = ROM
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                ARG = {
                    is_ai = yes
                }
            }
            targets = {
                ARG
            }
            complete_effect = {
                ARG = {
                    transfer_units_fraction = {
                        target = ROM
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                ROM = {
                    annex_country = {
                        target = ARG
                        transfer_troops = yes
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = ARG
                        is_controlled_by = ROM
                    }
                    add_core_of = ROM
                }
            }

        }
	 annex_Irak = {
            # icon = generic_operation
            allowed = {
                tag = ENG
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                AND = { IRQ = {
                         is_ai = yes
                         }
                        GER = { has_war_with = POL }
                }
                    }
            targets = {
                IRQ
            }
            complete_effect = {
                IRQ = {
                    transfer_units_fraction = {
                        target = ENG
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                ENG = {
                    annex_country = {
                        target = IRQ
                        transfer_troops = yes
                    }
                }
            }

        }
    annex_Irland = {
            # icon = generic_operation
            allowed = {
                tag = FRA
            }
            fire_only_once = yes
            cost = 0
            ai_will_do = {
                factor = 0
            }
            available = {
                AND = { IRE = {
                         is_ai = yes
                         }
                        GER = { has_war_with = POL }
                }
                    }
            targets = {
                IRE
            }
            complete_effect = {
                IRE = {
                    transfer_units_fraction = {
                        target = ENG
                        size = 1
                        stockpile_ratio = 1
                        army_ratio = 1
                        navy_ratio = 1
                        air_ratio = 1
                        keep_unit_leaders_trigger = {
                            always = no
                        }
                    }
                }
                FRA = {
                    annex_country = {
                        target = IRE
                        transfer_troops = yes
                    }
                }
            }

        }
}
Technologies = {
    hosttool_gun3 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
				OR = {
                        tag = GER
                        tag = ITA
                        tag = HUN
                        tag = ROM
                        tag = SPR
                        tag = BUL
                        tag = JAP
                        tag = SIA
                        tag = MAN
                        tag = FIN
                    }
			}
            available = {
                AND = {
                    date > 1939.09.01
                    NOT = {country_exists = ARG}
                    OR = {
                        tag = GER
                        tag = ITA
                        tag = HUN
                        tag = ROM
                        tag = SPR
                        tag = BUL
                        tag = JAP
                        tag = SIA
                        tag = MAN
                        tag = FIN
                    }
                }
            }
            complete_effect = {
                SWE = {
                    create_production_license = {
                        target = ROOT
                        equipment = {
                            type = infantry_equipment_3
                            version = 0
                            new_prioritised = yes
                        }
                        cost_factor = 0
                    }
                }
            }
    }
    hosttool_aa2 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
				OR = {
                        tag = ENG
                        tag = FRA
                        tag = CAN
                        tag = AST
                        tag = BRA
                        tag = MEX
                        tag = NZL
                        tag = USA
                        tag = RAJ
                        tag = SAF
                        tag = IRE
                        tag = SOV
                        tag = NOR
                    }
			}
            available = {
                AND = {
                    date > 1938.08.01
                    NOT = {country_exists = SAF}
                    OR = {
                        tag = ENG
                        tag = FRA
                        tag = CAN
                        tag = AST
                        tag = BRA
                        tag = MEX
                        tag = NZL
                        tag = USA
                        tag = RAJ
                        tag = SAF
                        tag = IRE
                        tag = SOV
                        tag = NOR
                    }
                }
            }
            complete_effect = {
                SWE = {
                    create_production_license = {
                        target = ROOT
                        equipment = {
                            type = anti_air_equipment_2
                            version = 0
                            new_prioritised = yes
                        }
                        cost_factor = 0
                    }
                }
            }
    }
    hosttool_aa3 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
            visible = {
				OR = {
                        tag = ENG
                        tag = FRA
                        tag = CAN
                        tag = AST
                        tag = BRA
                        tag = MEX
                        tag = NZL
                        tag = USA
                        tag = RAJ
                        tag = SAF
                        tag = IRE
                        tag = SOV
                        tag = NOR
                    }
			}
            available = {
                AND = {
                    date > 1940.08.01
                    NOT = {country_exists = SAF}
                    OR = {
                        tag = ENG
                        tag = FRA
                        tag = CAN
                        tag = AST
                        tag = BRA
                        tag = MEX
                        tag = NZL
                        tag = USA
                        tag = RAJ
                        tag = SAF
                        tag = IRE
                        tag = SOV
                        tag = NOR
                    }
                }
            }
            complete_effect = {
                SWE = {
                    create_production_license = {
                        target = ROOT
                        equipment = {
                            type = anti_air_equipment_3
                            version = 0
                            new_prioritised = yes
                        }
                        cost_factor = 0
                    }
                }
            }
    }
    ENG_Fighter = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
			visible = {
					tag  = ENG
			}
			
            available = {
                        tag = ENG
                        has_tech = improved_small_airframe
						has_tech = engines_3
						has_tech = aa_cannon_1
            }
            complete_effect = {
                ROOT = {
                    create_equipment_variant = {
						name = "F2 E3 No Selfsealing"
						type = small_plane_airframe_2
						parent_version = 0
						modules = {
								fixed_main_weapon_slot = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_2 = empty
								engine_type_slot = engine_3_1x
								special_type_slot_1 = fuel_tanks_small
								special_type_slot_2 = fuel_tanks_small
							}
					}
                }
            }
    }
	ENG_Fighter_2 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
			visible = {
					tag  = ENG
			}
			
            available = {
                        tag = ENG
                        has_tech = improved_small_airframe
						has_tech = engines_3
						has_tech = aa_cannon_1
						has_tech = survivability_studies
            }
            complete_effect = {
                ROOT = {
                    create_equipment_variant = {
						name = "F2 E3"
						type = small_plane_airframe_2
						parent_version = 0
						modules = {
								fixed_main_weapon_slot = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_2 = empty
								engine_type_slot = engine_3_1x
								special_type_slot_1 = fuel_tanks_small
								special_type_slot_2 = fuel_tanks_small
								special_type_slot_3 = self_sealing_fuel_tanks_small
							}
					}
                }
            }
    }
	ENG_Fighter_3 = {
            # icon = generic_operation
            allowed = {
            }
            fire_only_once = no
            cost = 0
            ai_will_do = {
                factor = 0
            }
			visible = {
					tag  = ENG
			}
			
            available = {
                        tag = ENG
                        has_tech = improved_small_airframe
						has_tech = engines_4
						has_tech = aa_cannon_1
						has_tech = survivability_studies
            }
            complete_effect = {
                ROOT = {
                    create_equipment_variant = {
						name = "F2 E4"
						type = small_plane_airframe_2
						parent_version = 0
						modules = {
								fixed_main_weapon_slot = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
								fixed_auxiliary_weapon_slot_2 = aircraft_cannon_1_2x
								engine_type_slot = engine_4_1x
								special_type_slot_1 = fuel_tanks_small
								special_type_slot_2 = fuel_tanks_small
								special_type_slot_3 = self_sealing_fuel_tanks_small
							}
					}
                }
            }
    }
}